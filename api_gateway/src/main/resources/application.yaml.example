server:
  port: 8080

spring:
  application:
    name: api-gateway
  main:
    banner-mode: off
  profiles:
    active: dev
  cloud:
    gateway:
      routes: 
        # AUTH-SERVICE
        - id: auth-service
          uri: lb://auth-service
          predicates:
            - Path=/auth/**

        # MEMBER-SERVICE
        - id: member-service
          uri: lb://member-service
          predicates:
            - Path=/member-service/**

        # PROJECT-SERVICE
        - id: project-service
          uri: lb://project-service
          predicates:
            - Path=/project/**

        # TASK-SERVICE
        - id: task-service
          uri: lb://task-service
          predicates:
            - Path=/task/**

        # TEAM-SERVICE
        - id: team-service
          uri: lb://team-service
          predicates:
            - Path=/team/**

        # USER-SERVICE
        - id: user-service
          uri: lb://user-service
          predicates:
            - Path=/user/**

        # WORKSPACE-SERVICE
        - id: workspace-service
          uri: lb://workspace-service
          predicates:
            - Path=/workspace/**

logging:
  file:
    path: ./logs  # Thay đổi từ logging.path thành logging.file.path
    name: ${logging.file.path}/api-gateway.log
  pattern:
    console: "%d{dd-MM-yyyy HH:mm:ss.SSS} %magenta([%thread]) %highlight(%-5level) %cyan(%logger{36}.%M) - %msg%n"
    file: "%d{dd-MM-yyyy HH:mm:ss.SSS} [%thread] %-5level %logger{36}.%M - %msg%n"
  level:
    root: INFO
    org.springframework: WARN
    org.springframework.cloud: WARN
    org.springframework.security: WARN
    reactor.netty: WARN
    com.flowright.api_gateway: DEBUG
  logback:
    rollingpolicy:
      file-name-pattern: ${logging.file.path}/archived/api-gateway_%d{dd-MM-yyyy}.log
      max-file-size: 10MB
      max-history: 30
      total-size-cap: 3GB